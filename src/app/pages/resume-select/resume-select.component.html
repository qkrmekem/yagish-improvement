<div class="container">
  <h1>이력서 양식 선택</h1>

  <!-- 개선점 1: 드롭다운으로 이력서 종류 변경 (페이지 이동 없이) -->
  <div class="improvement-badge">
    <span class="badge">개선 1</span> 드롭다운으로 이력서 종류를 페이지 이동 없이 변경할 수 있습니다
  </div>

  <mat-card class="select-card">
    <mat-card-header>
      <mat-card-title>이력서 종류 선택</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>이력서 종류</mat-label>
        <mat-select [value]="selectedResumeType.id" (selectionChange)="onResumeTypeChange($event.value)">
          <mat-option *ngFor="let resume of resumeTypes" [value]="resume.id">{{ resume.name }}</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
  </mat-card>

  <!-- 개선점 2: 선택된 이력서의 큰 미리보기 -->
  <div class="improvement-badge">
    <span class="badge">개선 2</span> 선택 시 해당 이력서의 대략적인 양식을 큰 이미지로 미리보기합니다
  </div>

  <mat-card class="preview-card">
    <mat-card-header>
      <mat-card-title>{{ selectedResumeType.name }}</mat-card-title>
      <mat-card-subtitle>{{ selectedResumeType.description }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="preview-container">
        <img
          [src]="selectedResumeType.previewImages[0]"
          [alt]="selectedResumeType.name"
          class="preview-image"
          (click)="openPreviewDialog()">
        <p class="click-hint">이미지를 클릭하면 더 크게 볼 수 있습니다</p>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button color="primary" (click)="openPreviewDialog()">크게 보기</button>
      <button mat-raised-button color="primary" (click)="goToResumeForm()">이력서 작성하기</button>
    </mat-card-actions>
  </mat-card>
</div>
